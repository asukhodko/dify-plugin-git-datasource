identity:
  author: dify-community
  name: git_datasource
  label:
    en_US: Git Repository
    ru_RU: Git Репозиторий
    zh_Hans: Git 仓库
  description:
    en_US: Import all files from Git repository automatically with incremental sync
    ru_RU: Автоматический импорт всех файлов из Git репозитория с инкрементальной синхронизацией
    zh_Hans: 自动导入 Git 仓库中的所有文件，支持增量同步
  icon: icon.svg

provider_type: website_crawl

credentials_schema:
  # Credentials for authentication (stored encrypted)
  - name: access_token
    type: secret-input
    required: false
    label:
      en_US: Access Token
      ru_RU: Токен доступа
      zh_Hans: 访问令牌
    placeholder:
      en_US: ghp_xxxx or glpat-xxxx
    help:
      en_US: Personal access token for private HTTPS repositories (GitHub, GitLab, Gitea)
      ru_RU: Персональный токен для приватных HTTPS репозиториев

  - name: ssh_private_key
    type: secret-input
    required: false
    label:
      en_US: SSH Private Key (PEM format)
      ru_RU: SSH приватный ключ (PEM формат)
      zh_Hans: SSH 私钥 (PEM 格式)
    placeholder:
      en_US: "-----BEGIN RSA PRIVATE KEY-----"
    help:
      en_US: "Private key in PEM format for SSH repositories. For OpenSSH keys, convert with: ssh-keygen -p -m PEM -f keyfile"
      ru_RU: "Приватный ключ в PEM формате для SSH репозиториев. Для OpenSSH ключей конвертируйте: ssh-keygen -p -m PEM -f keyfile"

datasources:
  - datasources/git_datasource.yaml

extra:
  python:
    source: provider/git_datasource.py
